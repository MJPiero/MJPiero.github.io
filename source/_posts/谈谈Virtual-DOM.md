---
title: 谈谈Virtual DOM
date: 2018-08-29 18:45:03
tags: [vue]
categories: [vue]
---
Virtual DOM 最开始知道这个词是通过React得知的，而vdom的诞生也是为了提升页面渲染性能，因为通常我们要将数据的变化实时反应到UI上，会对DOM进行操作，如果遇到复杂繁琐的操作，那么普通的DOM操作就显得格外沉重。
我们先回忆一下早期的一些做法。
（[灵感来源地](https://www.jianshu.com/p/bef1c1ee5a0e) 图片来源此）

## 页面DOM操作
早期，嗯，应该是很久远的事情了，那时候，web页面还基本是静态的，内容没有太多变化，那时候一旦有个数据变化，最常见的就是整个页面都刷新，这是因为重新请求页面，基于新的数据渲染出新的页面。
![](/images/37341-849962bd459dd09f.webp)
这样的做法肯定是无法满足产品大大们的需求，当我们更多的关注用户体验时，我们不可能在采用页面刷新的方法去做处理了，然后我们就开始直接操作页面DOM，这时候jq帮了我们大忙，可以方便我们直接对DOM下某些node修改更新。
![](/images/37341-085d63a591c8647d.webp)

## MVVM
这之后出来了以AngularJS为代表的MVVM模式（在此我们跳过了MVC模式，这个简单的说就是和服务器端配合，js可以在前端修改服务器渲染后的数据），和MVC的不同在于存在一个ViewModel把Model和View关联起来，负责Model和View的数据同步。
![](/images/37341-45f13340118dcea9.webp)
嗯，好吧我们其实可以一个词来形容这个模式，就是，`数据双向绑定`。

## Virtual DOM
在 MV* 模式雷厉风行之时，React出现了，它提出了一种新的思路，不用再去一点点操作dom树下的node，而是回归最早的一次整体渲染，这样渲染时间反而快。vdom的概念，实际上是数据和真实DOM之间的一层缓冲，数据变化了，我们会对vdom进行操作和更新，最后再一次性更新到真实DOM上。
![](/images/37341-f3172ab2917534d7.webp)
和MVVM比较一下，一旦有数据变化，MVVM系框架采用的都是数据绑定，比如说Angular，通过 Directive/Binding 对象，观察数据变化并保留对实际DOM的引用，